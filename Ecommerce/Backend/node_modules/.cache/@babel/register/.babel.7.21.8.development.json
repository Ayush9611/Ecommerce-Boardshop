{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\jaina\\\\Desktop\\\\week4project\\\\Ecommerce\\\\Backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\jaina\\\\Desktop\\\\week4project\\\\Ecommerce\\\\Backend\",\"filename\":\"C:\\\\Users\\\\jaina\\\\Desktop\\\\week4project\\\\Ecommerce\\\\Backend\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\jaina\\\\Desktop\\\\week4project\\\\Ecommerce\\\\Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar server = (0, _express[\"default\"])();\nserver.use(_express[\"default\"].json());\nserver.use((0, _cors[\"default\"])());\nvar port = 3308;\nserver.listen(4400, function () {\n  console.log(\"it works\");\n});\nserver.listen(port, function () {\n  console.log(\"Server started and running on port no\", port);\n});\nvar dbboardshop = _mysql[\"default\"].createConnection({\n  host: \"localhost\",\n  port: 3306,\n  user: \"root\",\n  password: \"root\",\n  database: \"boardshop\"\n});\ndbboardshop.connect(function (error) {\n  if (error) {\n    console.log(\"Connection to SQL failed\", error);\n    return;\n  } else {\n    console.log(\"Succesfully connected to students\");\n  }\n});\nserver.post(\"/addnewproduct\", function (req, res) {\n  var SQLquery = \"CALL `addnewproducts`(?,?,?,?,?,?)\";\n  dbboardshop.query(SQLquery, [req.body.name, req.body.stars, req.body.description, req.body.favourite, req.body.price, req.body.imageUrl], function (error, data) {\n    if (error) {\n      res.json({\n        error_message: error\n      });\n    } else {\n      res.json({\n        data: data[0]\n      });\n    }\n  });\n});\nserver[\"delete\"](\"/products/:id\", function (req, res) {\n  var SQLquery = \"CALL `deleteproduct`(?)\";\n  dbboardshop.query(SQLquery, [req.params.id], function (error, data) {\n    error ? res.json({\n      error_message: error\n    }) : res.json({\n      message: \"deleted\"\n    });\n  });\n});\nserver.get(\"/products\", function (req, res) {\n  var SQLquery = \"CALL `getallproducts`()\";\n  dbboardshop.query(SQLquery, function (error, data) {\n    error ? res.json({\n      error_message: error\n    }) : res.json({\n      productdata: data[0]\n    });\n  });\n});\nserver.put(\"/products/:id\", function (req, res) {\n  var SQLquery = \"CALL `updateproduct`(?,?,?,?,?,?,?)\";\n  dbboardshop.query(SQLquery, [req.body.price, req.params.id, req.body.name, req.body.stars, req.body.description, req.body.favourite, req.body.imageUrl], function (error, data) {\n    error ? res.json({\n      error_message: error\n    }) : res.json({\n      message: \"updated\",\n      data: data[0]\n    });\n  });\n});\nserver.get(\"/products/:id\", function (req, res) {\n  // let reqParamID = req.params.id;\n  // console.log(reqParamID);\n  // res.json({id: reqParamID})\n  var SQLquery = \"CALL `getproduct`(?)\";\n  dbboardshop.query(SQLquery, [req.params.id], function (error, data) {\n    error ? res.json({\n      error_message: error\n    }) : res.json(data[0][0]);\n  });\n});\nserver.put(\"/setlive/:id\", function (req, res) {\n  var SQLquery = \" CALL `setlive`(?)\";\n  dbboardshop.query(SQLquery, [req.params.id], function (error, data) {\n    error ? res.json({\n      error_message: error\n    }) : res.json({\n      message: \"success\"\n    });\n  });\n});\nserver.get(\"/showlive\", function (req, res) {\n  var SQLquery = \"CALL `showlive`()\";\n  dbboardshop.query(SQLquery, function (error, data) {\n    error ? res.json({\n      error_message: error\n    }) : res.json({\n      productdata: data[0]\n    });\n  });\n});\nserver.post('/validateuser', function (req, res) {\n  var SQLQuery = \"CALL `validateuser`(?, ?)\";\n  dbboardshop.query(SQLQuery, [req.body.email, req.body.password], function (error, data) {\n    if (error) {\n      res.json({\n        error_message: error\n      });\n    } else {\n      if (data[0].length > 0) {\n        res.json({\n          message: \"Logged in succesfully\"\n        });\n      } else {\n        res.json(false);\n      }\n    }\n  });\n});\nserver.put('/setLivestatus/:id', function (req, res) {\n  var SQLQuery = \"CALL `setLivestatus`(?, ?)\";\n  dbboardshop.query(SQLQuery, [req.params.id, req.body.Live], function (error, data) {\n    if (error) {\n      res.json(error);\n    } else {\n      res.json(req.body.Live);\n    }\n  });\n});\nserver.put(\"/setoffline/:id\", function (req, res) {\n  var SQLquery = \" CALL `setoffline`(?)\";\n  dbboardshop.query(SQLquery, [req.params.id], function (error, data) {\n    error ? res.json({\n      error_message: error\n    }) : res.json({\n      message: \"success\"\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX215c3FsIiwiX2NvcnMiLCJvYmoiLCJfX2VzTW9kdWxlIiwic2VydmVyIiwiZXhwcmVzcyIsInVzZSIsImpzb24iLCJjb3JzIiwicG9ydCIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJkYmJvYXJkc2hvcCIsIm15c3FsIiwiY3JlYXRlQ29ubmVjdGlvbiIsImhvc3QiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsImNvbm5lY3QiLCJlcnJvciIsInBvc3QiLCJyZXEiLCJyZXMiLCJTUUxxdWVyeSIsInF1ZXJ5IiwiYm9keSIsIm5hbWUiLCJzdGFycyIsImRlc2NyaXB0aW9uIiwiZmF2b3VyaXRlIiwicHJpY2UiLCJpbWFnZVVybCIsImRhdGEiLCJlcnJvcl9tZXNzYWdlIiwicGFyYW1zIiwiaWQiLCJtZXNzYWdlIiwiZ2V0IiwicHJvZHVjdGRhdGEiLCJwdXQiLCJTUUxRdWVyeSIsImVtYWlsIiwibGVuZ3RoIiwiTGl2ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxqYWluYVxcRGVza3RvcFxcd2VlazRwcm9qZWN0XFxFY29tbWVyY2VcXEJhY2tlbmRcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBteXNxbCBmcm9tIFwibXlzcWxcIjtcclxuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcclxuXHJcbmNvbnN0IHNlcnZlciA9IGV4cHJlc3MoKTtcclxuc2VydmVyLnVzZShleHByZXNzLmpzb24oKSk7XHJcbnNlcnZlci51c2UoY29ycygpKVxyXG5jb25zdCBwb3J0ID0gMzMwODtcclxuXHJcbnNlcnZlci5saXN0ZW4oNDQwMCwgZnVuY3Rpb24gKCkge1xyXG4gIGNvbnNvbGUubG9nKFwiaXQgd29ya3NcIik7XHJcbn0pO1xyXG5cclxuc2VydmVyLmxpc3Rlbihwb3J0LCBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc29sZS5sb2coXCJTZXJ2ZXIgc3RhcnRlZCBhbmQgcnVubmluZyBvbiBwb3J0IG5vXCIsIHBvcnQpO1xyXG59KTtcclxuXHJcbmNvbnN0IGRiYm9hcmRzaG9wID0gbXlzcWwuY3JlYXRlQ29ubmVjdGlvbih7XHJcbiAgaG9zdDogXCJsb2NhbGhvc3RcIixcclxuICBwb3J0OiAzMzA2LFxyXG4gIHVzZXI6IFwicm9vdFwiLFxyXG4gIHBhc3N3b3JkOiBcInJvb3RcIixcclxuICBkYXRhYmFzZTogXCJib2FyZHNob3BcIixcclxufSk7XHJcblxyXG5kYmJvYXJkc2hvcC5jb25uZWN0KGZ1bmN0aW9uIChlcnJvcikge1xyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coXCJDb25uZWN0aW9uIHRvIFNRTCBmYWlsZWRcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc2Z1bGx5IGNvbm5lY3RlZCB0byBzdHVkZW50c1wiKTtcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbnNlcnZlci5wb3N0KFwiL2FkZG5ld3Byb2R1Y3RcIiwgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgbGV0IFNRTHF1ZXJ5ID0gXCJDQUxMIGBhZGRuZXdwcm9kdWN0c2AoPyw/LD8sPyw/LD8pXCI7XHJcbiAgZGJib2FyZHNob3AucXVlcnkoXHJcbiAgICBTUUxxdWVyeSxcclxuICAgIFtcclxuICAgICAgcmVxLmJvZHkubmFtZSxcclxuICAgICAgcmVxLmJvZHkuc3RhcnMsXHJcbiAgICAgIHJlcS5ib2R5LmRlc2NyaXB0aW9uLFxyXG4gICAgICByZXEuYm9keS5mYXZvdXJpdGUsXHJcbiAgICAgIHJlcS5ib2R5LnByaWNlLFxyXG4gICAgICByZXEuYm9keS5pbWFnZVVybFxyXG4gICAgXSxcclxuICAgIGZ1bmN0aW9uIChlcnJvciwgZGF0YSkge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICByZXMuanNvbih7IGVycm9yX21lc3NhZ2U6IGVycm9yIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5qc29uKHsgZGF0YTogZGF0YVswXSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcbn0pO1xyXG5cclxuc2VydmVyLmRlbGV0ZShcIi9wcm9kdWN0cy86aWRcIiwgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgbGV0IFNRTHF1ZXJ5ID0gXCJDQUxMIGBkZWxldGVwcm9kdWN0YCg/KVwiO1xyXG4gIGRiYm9hcmRzaG9wLnF1ZXJ5KFxyXG4gICAgU1FMcXVlcnksXHJcbiAgICBbcmVxLnBhcmFtcy5pZF0sXHJcbiAgICAgKGVycm9yLCBkYXRhKSA9PiB7XHJcbiAgICAgIChlcnJvcikgPyByZXMuanNvbih7IGVycm9yX21lc3NhZ2U6IGVycm9yIH0pIDogcmVzLmpzb24oeyBtZXNzYWdlOiBcImRlbGV0ZWRcIiB9KTtcclxuICAgIH1cclxuICApO1xyXG59KTtcclxuXHJcbnNlcnZlci5nZXQoXCIvcHJvZHVjdHNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgbGV0IFNRTHF1ZXJ5ID0gXCJDQUxMIGBnZXRhbGxwcm9kdWN0c2AoKVwiO1xyXG4gIGRiYm9hcmRzaG9wLnF1ZXJ5KFNRTHF1ZXJ5LCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgIChlcnJvcikgPyByZXMuanNvbih7IGVycm9yX21lc3NhZ2U6IGVycm9yIH0pIDogcmVzLmpzb24oeyBwcm9kdWN0ZGF0YTogZGF0YVswXSB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5cclxuXHJcbnNlcnZlci5wdXQoXCIvcHJvZHVjdHMvOmlkXCIsIChyZXEsIHJlcykgPT4ge1xyXG4gIGxldCBTUUxxdWVyeSA9IFwiQ0FMTCBgdXBkYXRlcHJvZHVjdGAoPyw/LD8sPyw/LD8sPylcIjtcclxuICBkYmJvYXJkc2hvcC5xdWVyeShcclxuICAgIFNRTHF1ZXJ5LFxyXG4gICAgW3JlcS5ib2R5LnByaWNlLCByZXEucGFyYW1zLmlkLCByZXEuYm9keS5uYW1lLCByZXEuYm9keS5zdGFycywgcmVxLmJvZHkuZGVzY3JpcHRpb24sIHJlcS5ib2R5LmZhdm91cml0ZSwgcmVxLmJvZHkuaW1hZ2VVcmxdLFxyXG4gICAgIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgICAoZXJyb3IpID8gcmVzLmpzb24oeyBlcnJvcl9tZXNzYWdlOiBlcnJvciB9KSA6IHJlcy5qc29uKHsgbWVzc2FnZTogXCJ1cGRhdGVkXCIsIGRhdGE6IGRhdGFbMF0gfSk7XHJcbiAgICB9XHJcbiAgKTtcclxufSk7XHJcblxyXG5zZXJ2ZXIuZ2V0KFwiL3Byb2R1Y3RzLzppZFwiLCAocmVxLCByZXMpID0+IHtcclxuICAvLyBsZXQgcmVxUGFyYW1JRCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgLy8gY29uc29sZS5sb2cocmVxUGFyYW1JRCk7XHJcbiAgLy8gcmVzLmpzb24oe2lkOiByZXFQYXJhbUlEfSlcclxuICBsZXQgU1FMcXVlcnkgPSBcIkNBTEwgYGdldHByb2R1Y3RgKD8pXCI7XHJcbiAgZGJib2FyZHNob3AucXVlcnkoU1FMcXVlcnksIFtyZXEucGFyYW1zLmlkXSwgKGVycm9yLCBkYXRhKSA9PiB7XHJcbiAgICAoZXJyb3IpID8gcmVzLmpzb24oeyBlcnJvcl9tZXNzYWdlOiBlcnJvciB9KSA6IHJlcy5qc29uKCAgZGF0YVswXVswXSApO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbnNlcnZlci5wdXQoXCIvc2V0bGl2ZS86aWRcIiwgKHJlcSxyZXMpID0+IHtcclxuXHJcbiAgbGV0IFNRTHF1ZXJ5ID0gXCIgQ0FMTCBgc2V0bGl2ZWAoPylcIjtcclxuICBkYmJvYXJkc2hvcC5xdWVyeShTUUxxdWVyeSwgW3JlcS5wYXJhbXMuaWRdLCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgIChlcnJvcikgPyByZXMuanNvbih7IGVycm9yX21lc3NhZ2U6IGVycm9yIH0pIDogcmVzLmpzb24oe21lc3NhZ2UgOiBcInN1Y2Nlc3NcIn0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbnNlcnZlci5nZXQoXCIvc2hvd2xpdmVcIiwgKHJlcSxyZXMpID0+IHtcclxuICBsZXQgU1FMcXVlcnkgPSBcIkNBTEwgYHNob3dsaXZlYCgpXCI7XHJcbiAgZGJib2FyZHNob3AucXVlcnkoU1FMcXVlcnksIChlcnJvcixkYXRhKSA9PntcclxuICAgIChlcnJvcikgPyByZXMuanNvbih7IGVycm9yX21lc3NhZ2U6IGVycm9yIH0pIDogcmVzLmpzb24oeyBwcm9kdWN0ZGF0YTogZGF0YVswXSB9KTtcclxuICB9KVxyXG5cclxufSlcclxuXHJcbnNlcnZlci5wb3N0KCcvdmFsaWRhdGV1c2VyJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgbGV0IFNRTFF1ZXJ5ID0gXCJDQUxMIGB2YWxpZGF0ZXVzZXJgKD8sID8pXCI7XHJcbiAgZGJib2FyZHNob3AucXVlcnkoU1FMUXVlcnksIFtyZXEuYm9keS5lbWFpbCwgcmVxLmJvZHkucGFzc3dvcmRdLCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgcmVzLmpzb24oeyBlcnJvcl9tZXNzYWdlOiBlcnJvcn0pO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgIGlmKGRhdGFbMF0ubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICByZXMuanNvbih7bWVzc2FnZTogXCJMb2dnZWQgaW4gc3VjY2VzZnVsbHlcIn0pO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICByZXMuanNvbihmYWxzZSk7XHJcbiAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH0pXHJcbn0pXHJcblxyXG5zZXJ2ZXIucHV0KCcvc2V0TGl2ZXN0YXR1cy86aWQnLCAocmVxLHJlcykgPT4ge1xyXG4gIGxldCBTUUxRdWVyeSA9IFwiQ0FMTCBgc2V0TGl2ZXN0YXR1c2AoPywgPylcIjtcclxuICBkYmJvYXJkc2hvcC5xdWVyeShTUUxRdWVyeSwgW3JlcS5wYXJhbXMuaWQsIHJlcS5ib2R5LkxpdmVdLCAoZXJyb3IsZGF0YSkgPT4ge1xyXG4gICAgaWYoZXJyb3Ipe1xyXG4gICAgICByZXMuanNvbihlcnJvcilcclxuICAgIH1lbHNle1xyXG4gICAgICByZXMuanNvbihyZXEuYm9keS5MaXZlKTtcclxuICAgIH1cclxuICB9KVxyXG59KVxyXG5cclxuc2VydmVyLnB1dChcIi9zZXRvZmZsaW5lLzppZFwiLCAocmVxLHJlcykgPT4ge1xyXG5cclxuICBsZXQgU1FMcXVlcnkgPSBcIiBDQUxMIGBzZXRvZmZsaW5lYCg/KVwiO1xyXG4gIGRiYm9hcmRzaG9wLnF1ZXJ5KFNRTHF1ZXJ5LCBbcmVxLnBhcmFtcy5pZF0sIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgKGVycm9yKSA/IHJlcy5qc29uKHsgZXJyb3JfbWVzc2FnZTogZXJyb3IgfSkgOiByZXMuanNvbih7bWVzc2FnZSA6IFwic3VjY2Vzc1wifSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXdCLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsZ0JBQUFBLEdBQUE7QUFFeEIsSUFBTUUsTUFBTSxHQUFHLElBQUFDLG1CQUFPLEVBQUMsQ0FBQztBQUN4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUNELG1CQUFPLENBQUNFLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDMUJILE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLElBQUFFLGdCQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQ2xCLElBQU1DLElBQUksR0FBRyxJQUFJO0FBRWpCTCxNQUFNLENBQUNNLE1BQU0sQ0FBQyxJQUFJLEVBQUUsWUFBWTtFQUM5QkMsT0FBTyxDQUFDQyxHQUFHLENBQUMsVUFBVSxDQUFDO0FBQ3pCLENBQUMsQ0FBQztBQUVGUixNQUFNLENBQUNNLE1BQU0sQ0FBQ0QsSUFBSSxFQUFFLFlBQVk7RUFDOUJFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHVDQUF1QyxFQUFFSCxJQUFJLENBQUM7QUFDNUQsQ0FBQyxDQUFDO0FBRUYsSUFBTUksV0FBVyxHQUFHQyxpQkFBSyxDQUFDQyxnQkFBZ0IsQ0FBQztFQUN6Q0MsSUFBSSxFQUFFLFdBQVc7RUFDakJQLElBQUksRUFBRSxJQUFJO0VBQ1ZRLElBQUksRUFBRSxNQUFNO0VBQ1pDLFFBQVEsRUFBRSxNQUFNO0VBQ2hCQyxRQUFRLEVBQUU7QUFDWixDQUFDLENBQUM7QUFFRk4sV0FBVyxDQUFDTyxPQUFPLENBQUMsVUFBVUMsS0FBSyxFQUFFO0VBQ25DLElBQUlBLEtBQUssRUFBRTtJQUNUVixPQUFPLENBQUNDLEdBQUcsQ0FBQywwQkFBMEIsRUFBRVMsS0FBSyxDQUFDO0lBQzlDO0VBQ0YsQ0FBQyxNQUFNO0lBQ0xWLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG1DQUFtQyxDQUFDO0VBQ2xEO0FBQ0YsQ0FBQyxDQUFDO0FBR0ZSLE1BQU0sQ0FBQ2tCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxVQUFVQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUNoRCxJQUFJQyxRQUFRLEdBQUcsb0NBQW9DO0VBQ25EWixXQUFXLENBQUNhLEtBQUssQ0FDZkQsUUFBUSxFQUNSLENBQ0VGLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDQyxJQUFJLEVBQ2JMLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDRSxLQUFLLEVBQ2ROLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDRyxXQUFXLEVBQ3BCUCxHQUFHLENBQUNJLElBQUksQ0FBQ0ksU0FBUyxFQUNsQlIsR0FBRyxDQUFDSSxJQUFJLENBQUNLLEtBQUssRUFDZFQsR0FBRyxDQUFDSSxJQUFJLENBQUNNLFFBQVEsQ0FDbEIsRUFDRCxVQUFVWixLQUFLLEVBQUVhLElBQUksRUFBRTtJQUNyQixJQUFJYixLQUFLLEVBQUU7TUFDVEcsR0FBRyxDQUFDakIsSUFBSSxDQUFDO1FBQUU0QixhQUFhLEVBQUVkO01BQU0sQ0FBQyxDQUFDO0lBQ3BDLENBQUMsTUFBTTtNQUNMRyxHQUFHLENBQUNqQixJQUFJLENBQUM7UUFBRTJCLElBQUksRUFBRUEsSUFBSSxDQUFDLENBQUM7TUFBRSxDQUFDLENBQUM7SUFDN0I7RUFDRixDQUNGLENBQUM7QUFDSCxDQUFDLENBQUM7QUFFRjlCLE1BQU0sVUFBTyxDQUFDLGVBQWUsRUFBRSxVQUFVbUIsR0FBRyxFQUFFQyxHQUFHLEVBQUU7RUFDakQsSUFBSUMsUUFBUSxHQUFHLHlCQUF5QjtFQUN4Q1osV0FBVyxDQUFDYSxLQUFLLENBQ2ZELFFBQVEsRUFDUixDQUFDRixHQUFHLENBQUNhLE1BQU0sQ0FBQ0MsRUFBRSxDQUFDLEVBQ2QsVUFBQ2hCLEtBQUssRUFBRWEsSUFBSSxFQUFLO0lBQ2ZiLEtBQUssR0FBSUcsR0FBRyxDQUFDakIsSUFBSSxDQUFDO01BQUU0QixhQUFhLEVBQUVkO0lBQU0sQ0FBQyxDQUFDLEdBQUdHLEdBQUcsQ0FBQ2pCLElBQUksQ0FBQztNQUFFK0IsT0FBTyxFQUFFO0lBQVUsQ0FBQyxDQUFDO0VBQ2pGLENBQ0YsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGbEMsTUFBTSxDQUFDbUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxVQUFVaEIsR0FBRyxFQUFFQyxHQUFHLEVBQUU7RUFDMUMsSUFBSUMsUUFBUSxHQUFHLHlCQUF5QjtFQUN4Q1osV0FBVyxDQUFDYSxLQUFLLENBQUNELFFBQVEsRUFBRSxVQUFDSixLQUFLLEVBQUVhLElBQUksRUFBSztJQUMxQ2IsS0FBSyxHQUFJRyxHQUFHLENBQUNqQixJQUFJLENBQUM7TUFBRTRCLGFBQWEsRUFBRWQ7SUFBTSxDQUFDLENBQUMsR0FBR0csR0FBRyxDQUFDakIsSUFBSSxDQUFDO01BQUVpQyxXQUFXLEVBQUVOLElBQUksQ0FBQyxDQUFDO0lBQUUsQ0FBQyxDQUFDO0VBQ25GLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUlGOUIsTUFBTSxDQUFDcUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxVQUFDbEIsR0FBRyxFQUFFQyxHQUFHLEVBQUs7RUFDeEMsSUFBSUMsUUFBUSxHQUFHLHFDQUFxQztFQUNwRFosV0FBVyxDQUFDYSxLQUFLLENBQ2ZELFFBQVEsRUFDUixDQUFDRixHQUFHLENBQUNJLElBQUksQ0FBQ0ssS0FBSyxFQUFFVCxHQUFHLENBQUNhLE1BQU0sQ0FBQ0MsRUFBRSxFQUFFZCxHQUFHLENBQUNJLElBQUksQ0FBQ0MsSUFBSSxFQUFFTCxHQUFHLENBQUNJLElBQUksQ0FBQ0UsS0FBSyxFQUFFTixHQUFHLENBQUNJLElBQUksQ0FBQ0csV0FBVyxFQUFFUCxHQUFHLENBQUNJLElBQUksQ0FBQ0ksU0FBUyxFQUFFUixHQUFHLENBQUNJLElBQUksQ0FBQ00sUUFBUSxDQUFDLEVBQzFILFVBQUNaLEtBQUssRUFBRWEsSUFBSSxFQUFLO0lBQ2ZiLEtBQUssR0FBSUcsR0FBRyxDQUFDakIsSUFBSSxDQUFDO01BQUU0QixhQUFhLEVBQUVkO0lBQU0sQ0FBQyxDQUFDLEdBQUdHLEdBQUcsQ0FBQ2pCLElBQUksQ0FBQztNQUFFK0IsT0FBTyxFQUFFLFNBQVM7TUFBRUosSUFBSSxFQUFFQSxJQUFJLENBQUMsQ0FBQztJQUFFLENBQUMsQ0FBQztFQUNoRyxDQUNGLENBQUM7QUFDSCxDQUFDLENBQUM7QUFFRjlCLE1BQU0sQ0FBQ21DLEdBQUcsQ0FBQyxlQUFlLEVBQUUsVUFBQ2hCLEdBQUcsRUFBRUMsR0FBRyxFQUFLO0VBQ3hDO0VBQ0E7RUFDQTtFQUNBLElBQUlDLFFBQVEsR0FBRyxzQkFBc0I7RUFDckNaLFdBQVcsQ0FBQ2EsS0FBSyxDQUFDRCxRQUFRLEVBQUUsQ0FBQ0YsR0FBRyxDQUFDYSxNQUFNLENBQUNDLEVBQUUsQ0FBQyxFQUFFLFVBQUNoQixLQUFLLEVBQUVhLElBQUksRUFBSztJQUMzRGIsS0FBSyxHQUFJRyxHQUFHLENBQUNqQixJQUFJLENBQUM7TUFBRTRCLGFBQWEsRUFBRWQ7SUFBTSxDQUFDLENBQUMsR0FBR0csR0FBRyxDQUFDakIsSUFBSSxDQUFHMkIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDO0VBQ3hFLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGOUIsTUFBTSxDQUFDcUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxVQUFDbEIsR0FBRyxFQUFDQyxHQUFHLEVBQUs7RUFFdEMsSUFBSUMsUUFBUSxHQUFHLG9CQUFvQjtFQUNuQ1osV0FBVyxDQUFDYSxLQUFLLENBQUNELFFBQVEsRUFBRSxDQUFDRixHQUFHLENBQUNhLE1BQU0sQ0FBQ0MsRUFBRSxDQUFDLEVBQUUsVUFBQ2hCLEtBQUssRUFBRWEsSUFBSSxFQUFLO0lBQzNEYixLQUFLLEdBQUlHLEdBQUcsQ0FBQ2pCLElBQUksQ0FBQztNQUFFNEIsYUFBYSxFQUFFZDtJQUFNLENBQUMsQ0FBQyxHQUFHRyxHQUFHLENBQUNqQixJQUFJLENBQUM7TUFBQytCLE9BQU8sRUFBRztJQUFTLENBQUMsQ0FBQztFQUNoRixDQUFDLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRmxDLE1BQU0sQ0FBQ21DLEdBQUcsQ0FBQyxXQUFXLEVBQUUsVUFBQ2hCLEdBQUcsRUFBQ0MsR0FBRyxFQUFLO0VBQ25DLElBQUlDLFFBQVEsR0FBRyxtQkFBbUI7RUFDbENaLFdBQVcsQ0FBQ2EsS0FBSyxDQUFDRCxRQUFRLEVBQUUsVUFBQ0osS0FBSyxFQUFDYSxJQUFJLEVBQUk7SUFDeENiLEtBQUssR0FBSUcsR0FBRyxDQUFDakIsSUFBSSxDQUFDO01BQUU0QixhQUFhLEVBQUVkO0lBQU0sQ0FBQyxDQUFDLEdBQUdHLEdBQUcsQ0FBQ2pCLElBQUksQ0FBQztNQUFFaUMsV0FBVyxFQUFFTixJQUFJLENBQUMsQ0FBQztJQUFFLENBQUMsQ0FBQztFQUNuRixDQUFDLENBQUM7QUFFSixDQUFDLENBQUM7QUFFRjlCLE1BQU0sQ0FBQ2tCLElBQUksQ0FBQyxlQUFlLEVBQUUsVUFBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUs7RUFDekMsSUFBSWtCLFFBQVEsR0FBRywyQkFBMkI7RUFDMUM3QixXQUFXLENBQUNhLEtBQUssQ0FBQ2dCLFFBQVEsRUFBRSxDQUFDbkIsR0FBRyxDQUFDSSxJQUFJLENBQUNnQixLQUFLLEVBQUVwQixHQUFHLENBQUNJLElBQUksQ0FBQ1QsUUFBUSxDQUFDLEVBQUUsVUFBQ0csS0FBSyxFQUFFYSxJQUFJLEVBQUs7SUFDOUUsSUFBR2IsS0FBSyxFQUFDO01BQ0xHLEdBQUcsQ0FBQ2pCLElBQUksQ0FBQztRQUFFNEIsYUFBYSxFQUFFZDtNQUFLLENBQUMsQ0FBQztJQUNyQyxDQUFDLE1BQ0c7TUFDRCxJQUFHYSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNVLE1BQU0sR0FBRyxDQUFDLEVBQUM7UUFDckJwQixHQUFHLENBQUNqQixJQUFJLENBQUM7VUFBQytCLE9BQU8sRUFBRTtRQUF1QixDQUFDLENBQUM7TUFDN0MsQ0FBQyxNQUNHO1FBQ0hkLEdBQUcsQ0FBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUM7TUFDaEI7SUFDSDtFQUNKLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGSCxNQUFNLENBQUNxQyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsVUFBQ2xCLEdBQUcsRUFBQ0MsR0FBRyxFQUFLO0VBQzVDLElBQUlrQixRQUFRLEdBQUcsNEJBQTRCO0VBQzNDN0IsV0FBVyxDQUFDYSxLQUFLLENBQUNnQixRQUFRLEVBQUUsQ0FBQ25CLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDQyxFQUFFLEVBQUVkLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDa0IsSUFBSSxDQUFDLEVBQUUsVUFBQ3hCLEtBQUssRUFBQ2EsSUFBSSxFQUFLO0lBQzFFLElBQUdiLEtBQUssRUFBQztNQUNQRyxHQUFHLENBQUNqQixJQUFJLENBQUNjLEtBQUssQ0FBQztJQUNqQixDQUFDLE1BQUk7TUFDSEcsR0FBRyxDQUFDakIsSUFBSSxDQUFDZ0IsR0FBRyxDQUFDSSxJQUFJLENBQUNrQixJQUFJLENBQUM7SUFDekI7RUFDRixDQUFDLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRnpDLE1BQU0sQ0FBQ3FDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxVQUFDbEIsR0FBRyxFQUFDQyxHQUFHLEVBQUs7RUFFekMsSUFBSUMsUUFBUSxHQUFHLHVCQUF1QjtFQUN0Q1osV0FBVyxDQUFDYSxLQUFLLENBQUNELFFBQVEsRUFBRSxDQUFDRixHQUFHLENBQUNhLE1BQU0sQ0FBQ0MsRUFBRSxDQUFDLEVBQUUsVUFBQ2hCLEtBQUssRUFBRWEsSUFBSSxFQUFLO0lBQzNEYixLQUFLLEdBQUlHLEdBQUcsQ0FBQ2pCLElBQUksQ0FBQztNQUFFNEIsYUFBYSxFQUFFZDtJQUFNLENBQUMsQ0FBQyxHQUFHRyxHQUFHLENBQUNqQixJQUFJLENBQUM7TUFBQytCLE9BQU8sRUFBRztJQUFTLENBQUMsQ0FBQztFQUNoRixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_mysql","_cors","obj","__esModule","server","express","use","json","cors","port","listen","console","log","dbboardshop","mysql","createConnection","host","user","password","database","connect","error","post","req","res","SQLquery","query","body","name","stars","description","favourite","price","imageUrl","data","error_message","params","id","message","get","productdata","put","SQLQuery","email","length","Live"],"sourceRoot":"C:\\Users\\jaina\\Desktop\\week4project\\Ecommerce\\Backend\\","sources":["server.js"],"sourcesContent":["import express from \"express\";\r\nimport mysql from \"mysql\";\r\nimport cors from \"cors\";\r\n\r\nconst server = express();\r\nserver.use(express.json());\r\nserver.use(cors())\r\nconst port = 3308;\r\n\r\nserver.listen(4400, function () {\r\n  console.log(\"it works\");\r\n});\r\n\r\nserver.listen(port, function () {\r\n  console.log(\"Server started and running on port no\", port);\r\n});\r\n\r\nconst dbboardshop = mysql.createConnection({\r\n  host: \"localhost\",\r\n  port: 3306,\r\n  user: \"root\",\r\n  password: \"root\",\r\n  database: \"boardshop\",\r\n});\r\n\r\ndbboardshop.connect(function (error) {\r\n  if (error) {\r\n    console.log(\"Connection to SQL failed\", error);\r\n    return;\r\n  } else {\r\n    console.log(\"Succesfully connected to students\");\r\n  }\r\n});\r\n\r\n\r\nserver.post(\"/addnewproduct\", function (req, res) {\r\n  let SQLquery = \"CALL `addnewproducts`(?,?,?,?,?,?)\";\r\n  dbboardshop.query(\r\n    SQLquery,\r\n    [\r\n      req.body.name,\r\n      req.body.stars,\r\n      req.body.description,\r\n      req.body.favourite,\r\n      req.body.price,\r\n      req.body.imageUrl\r\n    ],\r\n    function (error, data) {\r\n      if (error) {\r\n        res.json({ error_message: error });\r\n      } else {\r\n        res.json({ data: data[0] });\r\n      }\r\n    }\r\n  );\r\n});\r\n\r\nserver.delete(\"/products/:id\", function (req, res) {\r\n  let SQLquery = \"CALL `deleteproduct`(?)\";\r\n  dbboardshop.query(\r\n    SQLquery,\r\n    [req.params.id],\r\n     (error, data) => {\r\n      (error) ? res.json({ error_message: error }) : res.json({ message: \"deleted\" });\r\n    }\r\n  );\r\n});\r\n\r\nserver.get(\"/products\", function (req, res) {\r\n  let SQLquery = \"CALL `getallproducts`()\";\r\n  dbboardshop.query(SQLquery, (error, data) => {\r\n    (error) ? res.json({ error_message: error }) : res.json({ productdata: data[0] });\r\n  });\r\n});\r\n\r\n\r\n\r\nserver.put(\"/products/:id\", (req, res) => {\r\n  let SQLquery = \"CALL `updateproduct`(?,?,?,?,?,?,?)\";\r\n  dbboardshop.query(\r\n    SQLquery,\r\n    [req.body.price, req.params.id, req.body.name, req.body.stars, req.body.description, req.body.favourite, req.body.imageUrl],\r\n     (error, data) => {\r\n      (error) ? res.json({ error_message: error }) : res.json({ message: \"updated\", data: data[0] });\r\n    }\r\n  );\r\n});\r\n\r\nserver.get(\"/products/:id\", (req, res) => {\r\n  // let reqParamID = req.params.id;\r\n  // console.log(reqParamID);\r\n  // res.json({id: reqParamID})\r\n  let SQLquery = \"CALL `getproduct`(?)\";\r\n  dbboardshop.query(SQLquery, [req.params.id], (error, data) => {\r\n    (error) ? res.json({ error_message: error }) : res.json(  data[0][0] );\r\n  });\r\n});\r\n\r\nserver.put(\"/setlive/:id\", (req,res) => {\r\n\r\n  let SQLquery = \" CALL `setlive`(?)\";\r\n  dbboardshop.query(SQLquery, [req.params.id], (error, data) => {\r\n    (error) ? res.json({ error_message: error }) : res.json({message : \"success\"});\r\n  });\r\n});\r\n\r\nserver.get(\"/showlive\", (req,res) => {\r\n  let SQLquery = \"CALL `showlive`()\";\r\n  dbboardshop.query(SQLquery, (error,data) =>{\r\n    (error) ? res.json({ error_message: error }) : res.json({ productdata: data[0] });\r\n  })\r\n\r\n})\r\n\r\nserver.post('/validateuser', (req, res) => {\r\n  let SQLQuery = \"CALL `validateuser`(?, ?)\";\r\n  dbboardshop.query(SQLQuery, [req.body.email, req.body.password], (error, data) => {\r\n      if(error){\r\n          res.json({ error_message: error});\r\n      }\r\n      else{\r\n         if(data[0].length > 0){\r\n          res.json({message: \"Logged in succesfully\"});\r\n         }\r\n         else{\r\n          res.json(false);\r\n         }\r\n      }\r\n  })\r\n})\r\n\r\nserver.put('/setLivestatus/:id', (req,res) => {\r\n  let SQLQuery = \"CALL `setLivestatus`(?, ?)\";\r\n  dbboardshop.query(SQLQuery, [req.params.id, req.body.Live], (error,data) => {\r\n    if(error){\r\n      res.json(error)\r\n    }else{\r\n      res.json(req.body.Live);\r\n    }\r\n  })\r\n})\r\n\r\nserver.put(\"/setoffline/:id\", (req,res) => {\r\n\r\n  let SQLquery = \" CALL `setoffline`(?)\";\r\n  dbboardshop.query(SQLquery, [req.params.id], (error, data) => {\r\n    (error) ? res.json({ error_message: error }) : res.json({message : \"success\"});\r\n  });\r\n});\r\n"],"mappings":"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"}},"mtime":1685732210049}}